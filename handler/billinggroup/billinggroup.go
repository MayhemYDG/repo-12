// Code generated by Aiven. DO NOT EDIT.

package billinggroup

import (
	"context"
	"encoding/json"
	"fmt"
	"time"
)

type Handler interface {
	// BillingGroupCreate create a billing group
	// POST /billing-group
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupCreate
	BillingGroupCreate(ctx context.Context, in *BillingGroupCreateIn) (*BillingGroup, error)

	// BillingGroupCreditsClaim claim a credit code
	// POST /billing-group/{billing_group_id}/credits
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupCreditsClaim
	BillingGroupCreditsClaim(ctx context.Context, billingGroupId string, in *BillingGroupCreditsClaimIn) (*Credit, error)

	// BillingGroupCreditsList list billing group credits
	// GET /billing-group/{billing_group_id}/credits
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupCreditsList
	BillingGroupCreditsList(ctx context.Context, billingGroupId string) ([]Credit, error)

	// BillingGroupDelete delete billing group
	// DELETE /billing-group/{billing_group_id}
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupDelete
	BillingGroupDelete(ctx context.Context, billingGroupId string) error

	// BillingGroupEventList list billing group events
	// GET /billing-group/{billing_group_id}/events
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupEventList
	BillingGroupEventList(ctx context.Context, billingGroupId string) ([]Event, error)

	// BillingGroupGet get billing group details
	// GET /billing-group/{billing_group_id}
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupGet
	BillingGroupGet(ctx context.Context, billingGroupId string) (*BillingGroup, error)

	// BillingGroupInvoiceLinesList get invoice lines for a single invoice
	// GET /billing-group/{billing_group_id}/invoice/{invoice_number}/lines
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupInvoiceLinesList
	BillingGroupInvoiceLinesList(ctx context.Context, billingGroupId string, invoiceNumber string) ([]Line, error)

	// BillingGroupInvoiceList get invoices generated for billing group
	// GET /billing-group/{billing_group_id}/invoice
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupInvoiceList
	BillingGroupInvoiceList(ctx context.Context, billingGroupId string) ([]Invoice, error)

	// BillingGroupList list billing groups
	// GET /billing-group
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupList
	BillingGroupList(ctx context.Context) ([]BillingGroup, error)

	// BillingGroupProjectAssign assign project to billing group
	// POST /billing-group/{billing_group_id}/project-assign/{project}
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupProjectAssign
	BillingGroupProjectAssign(ctx context.Context, billingGroupId string, project string) error

	// BillingGroupProjectList get projects assigned to billing group
	// GET /billing-group/{billing_group_id}/projects
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupProjectList
	BillingGroupProjectList(ctx context.Context, billingGroupId string) ([]Project, error)

	// BillingGroupProjectsAssign assign projects to billing group
	// POST /billing-group/{billing_group_id}/projects-assign
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupProjectsAssign
	BillingGroupProjectsAssign(ctx context.Context, billingGroupId string, in *BillingGroupProjectsAssignIn) error

	// BillingGroupUpdate update billing group
	// PUT /billing-group/{billing_group_id}
	// https://api.aiven.io/doc/#tag/BillingGroup/operation/BillingGroupUpdate
	BillingGroupUpdate(ctx context.Context, billingGroupId string, in *BillingGroupUpdateIn) (*BillingGroup, error)
}

func NewHandler(doer doer) BillingGroupHandler {
	return BillingGroupHandler{doer}
}

type doer interface {
	Do(ctx context.Context, operationID, method, path string, v any) ([]byte, error)
}

type BillingGroupHandler struct {
	doer doer
}

func (h *BillingGroupHandler) BillingGroupCreate(ctx context.Context, in *BillingGroupCreateIn) (*BillingGroup, error) {
	path := fmt.Sprintf("/billing-group")
	b, err := h.doer.Do(ctx, "BillingGroupCreate", "POST", path, in)
	out := new(billingGroupCreateOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.BillingGroup, nil
}
func (h *BillingGroupHandler) BillingGroupCreditsClaim(ctx context.Context, billingGroupId string, in *BillingGroupCreditsClaimIn) (*Credit, error) {
	path := fmt.Sprintf("/billing-group/%s/credits", billingGroupId)
	b, err := h.doer.Do(ctx, "BillingGroupCreditsClaim", "POST", path, in)
	out := new(billingGroupCreditsClaimOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.Credit, nil
}
func (h *BillingGroupHandler) BillingGroupCreditsList(ctx context.Context, billingGroupId string) ([]Credit, error) {
	path := fmt.Sprintf("/billing-group/%s/credits", billingGroupId)
	b, err := h.doer.Do(ctx, "BillingGroupCreditsList", "GET", path, nil)
	out := new(billingGroupCreditsListOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.Credits, nil
}
func (h *BillingGroupHandler) BillingGroupDelete(ctx context.Context, billingGroupId string) error {
	path := fmt.Sprintf("/billing-group/%s", billingGroupId)
	_, err := h.doer.Do(ctx, "BillingGroupDelete", "DELETE", path, nil)
	return err
}
func (h *BillingGroupHandler) BillingGroupEventList(ctx context.Context, billingGroupId string) ([]Event, error) {
	path := fmt.Sprintf("/billing-group/%s/events", billingGroupId)
	b, err := h.doer.Do(ctx, "BillingGroupEventList", "GET", path, nil)
	out := new(billingGroupEventListOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.Events, nil
}
func (h *BillingGroupHandler) BillingGroupGet(ctx context.Context, billingGroupId string) (*BillingGroup, error) {
	path := fmt.Sprintf("/billing-group/%s", billingGroupId)
	b, err := h.doer.Do(ctx, "BillingGroupGet", "GET", path, nil)
	out := new(billingGroupGetOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.BillingGroup, nil
}
func (h *BillingGroupHandler) BillingGroupInvoiceLinesList(ctx context.Context, billingGroupId string, invoiceNumber string) ([]Line, error) {
	path := fmt.Sprintf("/billing-group/%s/invoice/%s/lines", billingGroupId, invoiceNumber)
	b, err := h.doer.Do(ctx, "BillingGroupInvoiceLinesList", "GET", path, nil)
	out := new(billingGroupInvoiceLinesListOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.Lines, nil
}
func (h *BillingGroupHandler) BillingGroupInvoiceList(ctx context.Context, billingGroupId string) ([]Invoice, error) {
	path := fmt.Sprintf("/billing-group/%s/invoice", billingGroupId)
	b, err := h.doer.Do(ctx, "BillingGroupInvoiceList", "GET", path, nil)
	out := new(billingGroupInvoiceListOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.Invoices, nil
}
func (h *BillingGroupHandler) BillingGroupList(ctx context.Context) ([]BillingGroup, error) {
	path := fmt.Sprintf("/billing-group")
	b, err := h.doer.Do(ctx, "BillingGroupList", "GET", path, nil)
	out := new(billingGroupListOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.BillingGroups, nil
}
func (h *BillingGroupHandler) BillingGroupProjectAssign(ctx context.Context, billingGroupId string, project string) error {
	path := fmt.Sprintf("/billing-group/%s/project-assign/%s", billingGroupId, project)
	_, err := h.doer.Do(ctx, "BillingGroupProjectAssign", "POST", path, nil)
	return err
}
func (h *BillingGroupHandler) BillingGroupProjectList(ctx context.Context, billingGroupId string) ([]Project, error) {
	path := fmt.Sprintf("/billing-group/%s/projects", billingGroupId)
	b, err := h.doer.Do(ctx, "BillingGroupProjectList", "GET", path, nil)
	out := new(billingGroupProjectListOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.Projects, nil
}
func (h *BillingGroupHandler) BillingGroupProjectsAssign(ctx context.Context, billingGroupId string, in *BillingGroupProjectsAssignIn) error {
	path := fmt.Sprintf("/billing-group/%s/projects-assign", billingGroupId)
	_, err := h.doer.Do(ctx, "BillingGroupProjectsAssign", "POST", path, in)
	return err
}
func (h *BillingGroupHandler) BillingGroupUpdate(ctx context.Context, billingGroupId string, in *BillingGroupUpdateIn) (*BillingGroup, error) {
	path := fmt.Sprintf("/billing-group/%s", billingGroupId)
	b, err := h.doer.Do(ctx, "BillingGroupUpdate", "PUT", path, in)
	out := new(billingGroupUpdateOut)
	err = json.Unmarshal(b, out)
	if err != nil {
		return nil, err
	}
	return out.BillingGroup, nil
}

type BillingCurrencyType string

const (
	BillingCurrencyTypeAud BillingCurrencyType = "AUD"
	BillingCurrencyTypeCad BillingCurrencyType = "CAD"
	BillingCurrencyTypeChf BillingCurrencyType = "CHF"
	BillingCurrencyTypeDkk BillingCurrencyType = "DKK"
	BillingCurrencyTypeEur BillingCurrencyType = "EUR"
	BillingCurrencyTypeGbp BillingCurrencyType = "GBP"
	BillingCurrencyTypeJpy BillingCurrencyType = "JPY"
	BillingCurrencyTypeNok BillingCurrencyType = "NOK"
	BillingCurrencyTypeNzd BillingCurrencyType = "NZD"
	BillingCurrencyTypeSek BillingCurrencyType = "SEK"
	BillingCurrencyTypeSgd BillingCurrencyType = "SGD"
	BillingCurrencyTypeUsd BillingCurrencyType = "USD"
)

type BillingEmail struct {
	Email string `json:"email"`
}
type BillingGroup struct {
	AccountId             string              `json:"account_id"`
	AccountName           string              `json:"account_name"`
	AddressLines          []string            `json:"address_lines"`
	BillingAddress        string              `json:"billing_address,omitempty"`
	BillingCurrency       BillingCurrencyType `json:"billing_currency"`
	BillingEmails         []BillingEmail      `json:"billing_emails"`
	BillingExtraText      string              `json:"billing_extra_text"`
	BillingGroupId        string              `json:"billing_group_id"`
	BillingGroupName      string              `json:"billing_group_name"`
	CardInfo              *CardInfo           `json:"card_info"`
	City                  string              `json:"city"`
	Company               string              `json:"company"`
	Country               string              `json:"country"`
	CountryCode           string              `json:"country_code"`
	EstimatedBalanceLocal string              `json:"estimated_balance_local"`
	EstimatedBalanceUsd   string              `json:"estimated_balance_usd"`
	PaymentMethod         PaymentMethodType   `json:"payment_method"`
	State                 string              `json:"state"`
	VatId                 string              `json:"vat_id"`
	ZipCode               string              `json:"zip_code"`
}
type BillingGroupCreateIn struct {
	AccountId            string              `json:"account_id,omitempty"`
	AddressLines         []string            `json:"address_lines"`
	BillingCurrency      BillingCurrencyType `json:"billing_currency,omitempty"`
	BillingEmails        []BillingEmail      `json:"billing_emails"`
	BillingExtraText     string              `json:"billing_extra_text,omitempty"`
	BillingGroupName     string              `json:"billing_group_name"`
	CardId               string              `json:"card_id,omitempty"`
	City                 string              `json:"city,omitempty"`
	Company              string              `json:"company,omitempty"`
	CopyFromBillingGroup string              `json:"copy_from_billing_group,omitempty"`
	CountryCode          string              `json:"country_code,omitempty"`
	State                string              `json:"state,omitempty"`
	VatId                string              `json:"vat_id,omitempty"`
	ZipCode              string              `json:"zip_code,omitempty"`
}
type billingGroupCreateOut struct {
	BillingGroup *BillingGroup `json:"billing_group"`
}
type BillingGroupCreditsClaimIn struct {
	Code string `json:"code"`
}
type billingGroupCreditsClaimOut struct {
	Credit *Credit `json:"credit"`
}
type billingGroupCreditsListOut struct {
	Credits []Credit `json:"credits"`
}
type billingGroupEventListOut struct {
	Events []Event `json:"events"`
}
type billingGroupGetOut struct {
	BillingGroup *BillingGroup `json:"billing_group"`
}
type billingGroupInvoiceLinesListOut struct {
	Lines []Line `json:"lines"`
}
type billingGroupInvoiceListOut struct {
	Invoices []Invoice `json:"invoices"`
}
type billingGroupListOut struct {
	BillingGroups []BillingGroup `json:"billing_groups"`
}
type billingGroupProjectListOut struct {
	Projects []Project `json:"projects"`
}
type BillingGroupProjectsAssignIn struct {
	ProjectsNames []string `json:"projects_names"`
}
type BillingGroupStateType string

const (
	BillingGroupStateTypeActive  BillingGroupStateType = "active"
	BillingGroupStateTypeDeleted BillingGroupStateType = "deleted"
)

type BillingGroupUpdateIn struct {
	AccountId        string              `json:"account_id,omitempty"`
	AddressLines     []string            `json:"address_lines"`
	BillingCurrency  BillingCurrencyType `json:"billing_currency,omitempty"`
	BillingEmails    []BillingEmail      `json:"billing_emails"`
	BillingExtraText string              `json:"billing_extra_text,omitempty"`
	BillingGroupName string              `json:"billing_group_name,omitempty"`
	CardId           string              `json:"card_id,omitempty"`
	City             string              `json:"city,omitempty"`
	Company          string              `json:"company,omitempty"`
	CountryCode      string              `json:"country_code,omitempty"`
	State            string              `json:"state,omitempty"`
	VatId            string              `json:"vat_id,omitempty"`
	ZipCode          string              `json:"zip_code,omitempty"`
}
type billingGroupUpdateOut struct {
	BillingGroup *BillingGroup `json:"billing_group"`
}
type CardInfo struct {
	Brand       string `json:"brand"`
	CardId      string `json:"card_id"`
	Country     string `json:"country"`
	CountryCode string `json:"country_code"`
	ExpMonth    int    `json:"exp_month"`
	ExpYear     int    `json:"exp_year"`
	Last4       string `json:"last4"`
	Name        string `json:"name"`
	UserEmail   string `json:"user_email"`
}
type Credit struct {
	Code           string     `json:"code,omitempty"`
	ExpireTime     *time.Time `json:"expire_time,omitempty"`
	RemainingValue string     `json:"remaining_value,omitempty"`
	StartTime      *time.Time `json:"start_time,omitempty"`
	Type           Type       `json:"type,omitempty"`
	Value          string     `json:"value,omitempty"`
}
type CurrencyType string

const (
	CurrencyTypeAud CurrencyType = "AUD"
	CurrencyTypeCad CurrencyType = "CAD"
	CurrencyTypeChf CurrencyType = "CHF"
	CurrencyTypeDkk CurrencyType = "DKK"
	CurrencyTypeEur CurrencyType = "EUR"
	CurrencyTypeGbp CurrencyType = "GBP"
	CurrencyTypeJpy CurrencyType = "JPY"
	CurrencyTypeNok CurrencyType = "NOK"
	CurrencyTypeNzd CurrencyType = "NZD"
	CurrencyTypeSek CurrencyType = "SEK"
	CurrencyTypeSgd CurrencyType = "SGD"
	CurrencyTypeUsd CurrencyType = "USD"
)

type Event struct {
	Actor          string     `json:"actor,omitempty"`
	BillingGroupId string     `json:"billing_group_id,omitempty"`
	CreateTime     *time.Time `json:"create_time,omitempty"`
	EventDesc      string     `json:"event_desc,omitempty"`
	EventType      string     `json:"event_type,omitempty"`
	LogEntryId     *int       `json:"log_entry_id,omitempty"`
	ProjectId      string     `json:"project_id,omitempty"`
	ProjectName    string     `json:"project_name,omitempty"`
}
type Invoice struct {
	BillingGroupId    string                `json:"billing_group_id"`
	BillingGroupName  string                `json:"billing_group_name"`
	BillingGroupState BillingGroupStateType `json:"billing_group_state"`
	Currency          CurrencyType          `json:"currency"`
	DownloadCookie    string                `json:"download_cookie"`
	GeneratedAt       *time.Time            `json:"generated_at,omitempty"`
	InvoiceNumber     string                `json:"invoice_number"`
	PeriodBegin       string                `json:"period_begin"`
	PeriodEnd         string                `json:"period_end"`
	State             StateType             `json:"state"`
	TotalIncVat       string                `json:"total_inc_vat"`
	TotalVatZero      string                `json:"total_vat_zero"`
}
type Line struct {
	CloudName            string            `json:"cloud_name,omitempty"`
	CommitmentName       string            `json:"commitment_name,omitempty"`
	Description          string            `json:"description"`
	LinePreDiscountLocal string            `json:"line_pre_discount_local,omitempty"`
	LineTotalLocal       string            `json:"line_total_local,omitempty"`
	LineTotalUsd         string            `json:"line_total_usd"`
	LineType             LineType          `json:"line_type"`
	LocalCurrency        string            `json:"local_currency,omitempty"`
	ProjectName          string            `json:"project_name,omitempty"`
	ServiceName          string            `json:"service_name,omitempty"`
	ServicePlan          string            `json:"service_plan,omitempty"`
	ServiceType          ServiceType       `json:"service_type,omitempty"`
	Tags                 map[string]string `json:"tags,omitempty"`
	TimestampBegin       string            `json:"timestamp_begin,omitempty"`
	TimestampEnd         string            `json:"timestamp_end,omitempty"`
}
type LineType string

const (
	LineTypeCommitmentFee     LineType = "commitment_fee"
	LineTypeCreditConsumption LineType = "credit_consumption"
	LineTypeExtraCharge       LineType = "extra_charge"
	LineTypeMultiplier        LineType = "multiplier"
	LineTypeOtherEvent        LineType = "other_event"
	LineTypeRounding          LineType = "rounding"
	LineTypeServiceCharge     LineType = "service_charge"
	LineTypeSupportCharge     LineType = "support_charge"
)

type PaymentMethodType string

const (
	PaymentMethodTypeAccrual           PaymentMethodType = "accrual"
	PaymentMethodTypeCard              PaymentMethodType = "card"
	PaymentMethodTypeDisabled          PaymentMethodType = "disabled"
	PaymentMethodTypeEmail             PaymentMethodType = "email"
	PaymentMethodTypeNoPaymentExpected PaymentMethodType = "no_payment_expected"
	PaymentMethodTypePartner           PaymentMethodType = "partner"
)

type Project struct {
	AvailableCredits string `json:"available_credits"`
	EstimatedBalance string `json:"estimated_balance"`
	ProjectName      string `json:"project_name"`
}
type ServiceType string

const (
	ServiceTypeAlertmanager     ServiceType = "alertmanager"
	ServiceTypeCassandra        ServiceType = "cassandra"
	ServiceTypeClickhouse       ServiceType = "clickhouse"
	ServiceTypeDragonfly        ServiceType = "dragonfly"
	ServiceTypeElasticsearch    ServiceType = "elasticsearch"
	ServiceTypeFlink            ServiceType = "flink"
	ServiceTypeGrafana          ServiceType = "grafana"
	ServiceTypeInfluxdb         ServiceType = "influxdb"
	ServiceTypeKafka            ServiceType = "kafka"
	ServiceTypeKafkaConnect     ServiceType = "kafka_connect"
	ServiceTypeKafkaMirrormaker ServiceType = "kafka_mirrormaker"
	ServiceTypeM3Aggregator     ServiceType = "m3aggregator"
	ServiceTypeM3Db             ServiceType = "m3db"
	ServiceTypeMysql            ServiceType = "mysql"
	ServiceTypeOpensearch       ServiceType = "opensearch"
	ServiceTypePg               ServiceType = "pg"
	ServiceTypeRedis            ServiceType = "redis"
	ServiceTypeStresstester     ServiceType = "stresstester"
	ServiceTypeSw               ServiceType = "sw"
	ServiceTypeThanos           ServiceType = "thanos"
	ServiceTypeThanoscompactor  ServiceType = "thanoscompactor"
	ServiceTypeThanosquery      ServiceType = "thanosquery"
	ServiceTypeThanosreceiver   ServiceType = "thanosreceiver"
	ServiceTypeThanosstore      ServiceType = "thanosstore"
	ServiceTypeVector           ServiceType = "vector"
	ServiceTypeVmalert          ServiceType = "vmalert"
)

type StateType string

const (
	StateTypeAccrual                StateType = "accrual"
	StateTypeConsolidated           StateType = "consolidated"
	StateTypeDue                    StateType = "due"
	StateTypeEstimate               StateType = "estimate"
	StateTypeFailedCreditCardCharge StateType = "failed_credit_card_charge"
	StateTypeFailedNoCreditCard     StateType = "failed_no_credit_card"
	StateTypeMailed                 StateType = "mailed"
	StateTypeNoPaymentExpected      StateType = "no_payment_expected"
	StateTypePaid                   StateType = "paid"
	StateTypePartnerMetering        StateType = "partner_metering"
	StateTypeUncollectible          StateType = "uncollectible"
	StateTypeWaived                 StateType = "waived"
)

type Type string

const (
	TypeDiscount    Type = "discount"
	TypeEmployee    Type = "employee"
	TypeEvaluation  Type = "evaluation"
	TypeInternal    Type = "internal"
	TypeOther       Type = "other"
	TypeOutage      Type = "outage"
	TypePartner     Type = "partner"
	TypePromotion   Type = "promotion"
	TypePurchase    Type = "purchase"
	TypeReferral    Type = "referral"
	TypeSponsorship Type = "sponsorship"
	TypeTrial       Type = "trial"
	TypeTrialOver   Type = "trial_over"
)
